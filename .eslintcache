[{"/Users/rhok/postagram/src/index.js":"1","/Users/rhok/postagram/src/App.js":"2","/Users/rhok/postagram/src/aws-exports.js":"3","/Users/rhok/postagram/src/reportWebVitals.js":"4","/Users/rhok/postagram/src/Post.js":"5","/Users/rhok/postagram/src/graphql/queries.js":"6","/Users/rhok/postagram/src/Posts.js":"7","/Users/rhok/postagram/src/Header.js":"8","/Users/rhok/postagram/src/CreatePost.js":"9","/Users/rhok/postagram/src/Button.js":"10","/Users/rhok/postagram/src/graphql/mutations.js":"11","/Users/rhok/postagram/src/CreatePost-Original.js":"12","/Users/rhok/postagram/src/EditPost.js":"13"},{"size":597,"mtime":1611960485169,"results":"14","hashOfConfig":"15"},{"size":2851,"mtime":1613508691300,"results":"16","hashOfConfig":"15"},{"size":734,"mtime":1612487920283,"results":"17","hashOfConfig":"15"},{"size":362,"mtime":1611612920436,"results":"18","hashOfConfig":"15"},{"size":2120,"mtime":1613508694257,"results":"19","hashOfConfig":"15"},{"size":814,"mtime":1612487323701,"results":"20","hashOfConfig":"15"},{"size":904,"mtime":1612487919015,"results":"21","hashOfConfig":"15"},{"size":596,"mtime":1612463412239,"results":"22","hashOfConfig":"15"},{"size":6444,"mtime":1613072948142,"results":"23","hashOfConfig":"15"},{"size":545,"mtime":1612455315614,"results":"24","hashOfConfig":"15"},{"size":1219,"mtime":1612487323725,"results":"25","hashOfConfig":"15"},{"size":5949,"mtime":1612483222344,"results":"26","hashOfConfig":"15"},{"size":7925,"mtime":1613508695253,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"67egiy",{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/rhok/postagram/src/index.js",[],["56","57"],"/Users/rhok/postagram/src/App.js",["58"],"/Users/rhok/postagram/src/aws-exports.js",[],"/Users/rhok/postagram/src/reportWebVitals.js",[],"/Users/rhok/postagram/src/Post.js",["59","60","61"],"/Users/rhok/postagram/src/graphql/queries.js",[],"/Users/rhok/postagram/src/Posts.js",[],"/Users/rhok/postagram/src/Header.js",[],"/Users/rhok/postagram/src/CreatePost.js",["62","63","64","65","66","67","68","69","70","71"],"// Working version\n\nimport React, { useState } from 'react';\nimport { css } from '@emotion/react';\nimport Button from './Button';\nimport { v4 as uuid } from 'uuid';\nimport { Storage, API, Auth, Amplify } from 'aws-amplify';\nimport { createPost } from './graphql/mutations';\n\n// Date Picker\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Select from 'react-select';\nconsole.log ('Start loading CreatePost.js')\nAmplify.configure({\n  Storage: {\n      AWSS3: {\n          bucket: 'pars-talent-development', //REQUIRED -  Amazon S3 bucket name\n          region: 'us-east-2', //OPTIONAL -  Amazon service region\n      }\n  }\n});\n\n// Vertical values\nconst verticals = [\n  { value: 'talent products', label: 'Talent Products' },\n  { value: 'creative', label: 'Creative' },\n  { value: 'ops and seller leadership', label: 'Ops and Seller Leadership' },\n  { value: 'gso/gsa', label: 'GSO/GSA' },\n  { value: 'cops', label: 'C-Ops' }\n]\n\n// Teams values\nconst teams = [\n  { value: 'pars', label: 'PARS-TD' },\n  { value: 'dg', label: 'Dangerous Goods' },\n  { value: 'gso', label: 'GSO' }\n]\n\n/* Initial state to hold form input, saving state */\nconst initialState = {\n  name: '',\n  project: '',\n  team: '',\n  vertical: '',\n  date: '',\n  program: '',\n  contentowner: '',\n  tags: '',\n  image: {},\n  file: '',\n  saving: false\n};\n\nexport default function CreatePost({\n  updateOverlayVisibility, updatePosts, posts\n}) {\n  /* 1. Create local state with useState hook */\n  const [formState, updateFormState] = useState(initialState)\n\n  const [startDate, setStartDate] = useState(new Date());\n\n\n  /* 2. onChangeText handler updates the form state when a user types into a form field */\n  function onChangeText(e) {\n    e.persist();\n    console.log('Value of event',e)\n    updateFormState(currentState => ({ ...currentState, [e.target.name]: e.target.value }));\n  }\n \n\n  /* 3. onChangeFile handler will be fired when a user uploads a file  */\n  function onChangeFile(e) {\n    e.persist();\n    if (! e.target.files[0]) return;\n    const image = { fileInfo: e.target.files[0], name: `${e.target.files[0].name}_${uuid()}`}\n    updateFormState(currentState => ({ ...currentState, file: URL.createObjectURL(e.target.files[0]), image }))\n  }\n\n\n  // On select change\n  \n  function onSelectChangeTeam (e){\n    updateFormState(currentState => ({ ...currentState, team: e.value}))\n\n  }\n\n  function onSelectChangeVertical(e) {\n    console.log('select')\n    updateFormState(currentState => ({ ...currentState, vertical: e.value}))\n\n  }\n\n\n  function onSelectDate(e) {\n    console.log('select')\n    updateFormState(currentState => ({ ...currentState, date: e.value}))\n\n\n  \n  }\n\n  // On select change\n\n\n  /* 4. Save the post  */\n  async function save() {\n    try {\n      const { name, project, team, vertical, date, program, contentowner, owner, tags, image } = formState;\n      // if (!name || !project || !team || !vertical || !date || !program || !owner || !tags || !image.name) return;\n      updateFormState(currentState => ({ ...currentState, saving: true }));\n      const postId = uuid();\n      // const postInfo = { name, project: \"1\", team: \"1\", vertical:\"1\", date:\"1\", program:\"1\", owner:\"1\", tags:\"1\", image: formState.image.name, id: postId };\n      const postInfo = { name, project: formState.project, team: formState.team, vertical: formState.vertical, date: startDate, program: formState.program, contentowner: formState.contentowner, tags: formState.tags, image: formState.image.name, id: postId };\n\n      // Debugging purpose \n      console.log(\"Value of Post Info\", postInfo);\n\n\n      await Storage.put(formState.image.name, formState.image.fileInfo);\n      await API.graphql({\n        query: createPost,\n        variables: { input: postInfo },\n        authMode: 'AMAZON_COGNITO_USER_POOLS'\n      }); // updated\n      const { username } = await Auth.currentAuthenticatedUser(); // new\n      updatePosts([...posts, { ...postInfo, image: formState.file, owner: username }]); // updated\n      updateFormState(currentState => ({ ...currentState, saving: false }));\n      updateOverlayVisibility(false);\n    } catch (err) {\n      console.log('error: ', err);\n    }\n  }\n\n  return (\n    <div className={containerStyle}>\n      <input\n        placeholder=\"File name\"\n        name=\"name\"\n        className={inputStyle}\n        onChange={onChangeText}\n      />\n      <input\n        placeholder=\"Project Name\"\n        name=\"project\"\n        className={inputStyle}\n        onChange={onChangeText}\n      />\n      <Select\n        placeholder=\"Team\"\n        name=\"team\"\n        options={teams}\n\n        onChange={  onSelectChangeTeam}\n\n        \n      />\n\n      <Select \n        placeholder=\"Vertical\"\n        name=\"vertical\"\n        options={verticals}\n\n        onChange={ onSelectChangeVertical}\n\n\n      />\n\n<DatePicker selected={startDate} onChange={date => setStartDate(date)} />\n\n\n      <input\n        placeholder=\"Program\"\n        name=\"program\"\n        className={inputStyle}\n        onChange={onChangeText}\n      />\n      <input\n        placeholder=\"Content Owner\"\n        name=\"contentowner\"\n        className={inputStyle}\n        onChange={onChangeText}\n      />\n      <input\n        placeholder=\"Tags\"\n        name=\"tags\"\n        className={inputStyle}\n        onChange={onChangeText}\n\n      />\n      <input \n        type=\"file\"\n        onChange={onChangeFile}\n      />\n      { formState.file && <img className={imageStyle} alt=\"preview\" src={formState.file} /> }\n      <Button title=\"Upload New File\" onClick={save} />\n      <Button type=\"cancel\" title=\"Cancel\" onClick={() => updateOverlayVisibility(false)} />\n      { formState.saving && <p className={savingMessageStyle}>Saving file...</p> }\n    </div>\n  )\n}\n\nconst inputStyle = css`\n  margin-bottom: 10px;\n  outline: none;\n  padding: 7px;\n  border: 1px solid #ddd;\n  font-size: 16px;\n  border-radius: 4px;\n`\n\nconst imageStyle = css`\n  height: 120px;\n  margin: 10px 0px;\n  object-fit: contain;\n`\n\nconst containerStyle = css`\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  height: 420px;\n  position: fixed;\n  left: 0;\n  border-radius: 4px;\n  top: 0; \n  margin-left: calc(50vw - 220px);\n  margin-top: calc(50vh - 230px);\n  background-color: white;\n  border: 1px solid #ddd;\n  box-shadow: rgba(0, 0, 0, 0.25) 0px 0.125rem 0.25rem;\n  padding: 20px;\n`\n\nconst savingMessageStyle = css`\n  margin-bottom: 0px;\n`","/Users/rhok/postagram/src/Button.js",[],"/Users/rhok/postagram/src/graphql/mutations.js",[],"/Users/rhok/postagram/src/CreatePost-Original.js",["72","73","74","75","76","77","78","79","80"],"/Users/rhok/postagram/src/EditPost.js",["81","82","83","84","85","86","87","88","89","90","91","92","93","94","95"],{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","severity":1,"message":"101","line":28,"column":6,"nodeType":"102","endLine":28,"endColumn":8,"suggestions":"103"},{"ruleId":"104","severity":1,"message":"105","line":6,"column":8,"nodeType":"106","messageId":"107","endLine":6,"endColumn":14},{"ruleId":"104","severity":1,"message":"108","line":10,"column":15,"nodeType":"106","messageId":"107","endLine":10,"endColumn":21},{"ruleId":"100","severity":1,"message":"109","line":20,"column":6,"nodeType":"102","endLine":20,"endColumn":8,"suggestions":"110"},{"ruleId":"104","severity":1,"message":"111","line":97,"column":12,"nodeType":"106","messageId":"107","endLine":97,"endColumn":24},{"ruleId":"104","severity":1,"message":"112","line":111,"column":21,"nodeType":"106","messageId":"107","endLine":111,"endColumn":28},{"ruleId":"104","severity":1,"message":"113","line":111,"column":30,"nodeType":"106","messageId":"107","endLine":111,"endColumn":34},{"ruleId":"104","severity":1,"message":"114","line":111,"column":36,"nodeType":"106","messageId":"107","endLine":111,"endColumn":44},{"ruleId":"104","severity":1,"message":"115","line":111,"column":46,"nodeType":"106","messageId":"107","endLine":111,"endColumn":50},{"ruleId":"104","severity":1,"message":"116","line":111,"column":52,"nodeType":"106","messageId":"107","endLine":111,"endColumn":59},{"ruleId":"104","severity":1,"message":"117","line":111,"column":61,"nodeType":"106","messageId":"107","endLine":111,"endColumn":73},{"ruleId":"104","severity":1,"message":"118","line":111,"column":75,"nodeType":"106","messageId":"107","endLine":111,"endColumn":80},{"ruleId":"104","severity":1,"message":"119","line":111,"column":82,"nodeType":"106","messageId":"107","endLine":111,"endColumn":86},{"ruleId":"104","severity":1,"message":"120","line":111,"column":88,"nodeType":"106","messageId":"107","endLine":111,"endColumn":93},{"ruleId":"104","severity":1,"message":"121","line":66,"column":12,"nodeType":"106","messageId":"107","endLine":66,"endColumn":24},{"ruleId":"104","severity":1,"message":"112","line":82,"column":21,"nodeType":"106","messageId":"107","endLine":82,"endColumn":28},{"ruleId":"104","severity":1,"message":"113","line":82,"column":30,"nodeType":"106","messageId":"107","endLine":82,"endColumn":34},{"ruleId":"104","severity":1,"message":"114","line":82,"column":36,"nodeType":"106","messageId":"107","endLine":82,"endColumn":44},{"ruleId":"104","severity":1,"message":"115","line":82,"column":46,"nodeType":"106","messageId":"107","endLine":82,"endColumn":50},{"ruleId":"104","severity":1,"message":"116","line":82,"column":52,"nodeType":"106","messageId":"107","endLine":82,"endColumn":59},{"ruleId":"104","severity":1,"message":"118","line":82,"column":61,"nodeType":"106","messageId":"107","endLine":82,"endColumn":66},{"ruleId":"104","severity":1,"message":"119","line":82,"column":68,"nodeType":"106","messageId":"107","endLine":82,"endColumn":72},{"ruleId":"104","severity":1,"message":"120","line":82,"column":74,"nodeType":"106","messageId":"107","endLine":82,"endColumn":79},{"ruleId":"104","severity":1,"message":"122","line":4,"column":10,"nodeType":"106","messageId":"107","endLine":4,"endColumn":13},{"ruleId":"104","severity":1,"message":"108","line":9,"column":15,"nodeType":"106","messageId":"107","endLine":9,"endColumn":21},{"ruleId":"100","severity":1,"message":"123","line":99,"column":5,"nodeType":"102","endLine":99,"endColumn":7,"suggestions":"124"},{"ruleId":"104","severity":1,"message":"111","line":134,"column":12,"nodeType":"106","messageId":"107","endLine":134,"endColumn":24},{"ruleId":"104","severity":1,"message":"112","line":147,"column":24,"nodeType":"106","messageId":"107","endLine":147,"endColumn":31},{"ruleId":"104","severity":1,"message":"113","line":147,"column":33,"nodeType":"106","messageId":"107","endLine":147,"endColumn":37},{"ruleId":"104","severity":1,"message":"114","line":147,"column":39,"nodeType":"106","messageId":"107","endLine":147,"endColumn":47},{"ruleId":"104","severity":1,"message":"115","line":147,"column":49,"nodeType":"106","messageId":"107","endLine":147,"endColumn":53},{"ruleId":"104","severity":1,"message":"116","line":147,"column":55,"nodeType":"106","messageId":"107","endLine":147,"endColumn":62},{"ruleId":"104","severity":1,"message":"117","line":147,"column":64,"nodeType":"106","messageId":"107","endLine":147,"endColumn":76},{"ruleId":"104","severity":1,"message":"118","line":147,"column":78,"nodeType":"106","messageId":"107","endLine":147,"endColumn":83},{"ruleId":"104","severity":1,"message":"119","line":147,"column":85,"nodeType":"106","messageId":"107","endLine":147,"endColumn":89},{"ruleId":"104","severity":1,"message":"120","line":147,"column":91,"nodeType":"106","messageId":"107","endLine":147,"endColumn":96},{"ruleId":"104","severity":1,"message":"125","line":165,"column":15,"nodeType":"106","messageId":"107","endLine":165,"endColumn":23},{"ruleId":"104","severity":1,"message":"126","line":293,"column":7,"nodeType":"106","messageId":"107","endLine":293,"endColumn":17},"no-native-reassign",["127"],"no-negated-in-lhs",["128"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchPosts'. Either include it or remove the dependency array.","ArrayExpression",["129"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'Router' is defined but never used.","React Hook useEffect has a missing dependency: 'fetchPost'. Either include it or remove the dependency array.",["130"],"'onSelectDate' is defined but never used.","'project' is assigned a value but never used.","'team' is assigned a value but never used.","'vertical' is assigned a value but never used.","'date' is assigned a value but never used.","'program' is assigned a value but never used.","'contentowner' is assigned a value but never used.","'owner' is assigned a value but never used.","'tags' is assigned a value but never used.","'image' is assigned a value but never used.","'onChangeTeam' is defined but never used.","'jsx' is defined but never used.","React Hook useEffect has a missing dependency: 'location.state'. Either include it or remove the dependency array.",["131"],"'username' is assigned a value but never used.","'inputStyle' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"132","fix":"133"},{"desc":"134","fix":"135"},{"desc":"136","fix":"137"},"Update the dependencies array to be: [fetchPosts]",{"range":"138","text":"139"},"Update the dependencies array to be: [fetchPost]",{"range":"140","text":"141"},"Update the dependencies array to be: [location.state]",{"range":"142","text":"143"},[842,844],"[fetchPosts]",[528,530],"[fetchPost]",[2170,2172],"[location.state]"]